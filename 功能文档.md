# Vex功能列表
| 主项                                                         | 子项                                                     | 方法、事件                                                   | 备注                                                         |
| ------------------------------------------------------------ | -------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **环境控制（RenderSetting）**                                | 设置环境光                                               | setRenderSetting                                             |                                                              |
|                                                              | 设置雾效                                                 | setRenderSetting                                             | 目前只支持指数雾（Exponential）、指数平方雾（ExponentialSquared）          不支持线性雾（Linear） |
|                                                              | 设置天空、属性配置                                       | setSkyMat、updateSkyMat                                      | 内置天空材质，js传对应路径                                   |
| **场景质量控制（QualitySetting）**                           | 设置场景质量                                             | setting                                                      | 设置阴影距离、类型                                           |
| **时间、天气控制（EnvironmentManager）**                     | 设置时间的配置                                           | setTimeConfig                                                | 如果关闭了天气插曲，当前方法有效。<br>配置来源于designer     |
|                                                              | 设置时间                                                 | setTimeOfDay                                                 | 达到0-24小时的变化功能                                       |
|                                                              | 设置天气                                                 |                                                              | 开发中                                                       |
| **启动管理器（Boot）**                                       | 设置exe窗口大小或者全屏                                  | setWindowSize                                                | 桌面端功能                                                   |
|                                                              | 启用html的dom标签控制操作地图                            | showHTML                                                     | 桌面端功能 <br>当html和exe集成到一起的时候，为了区分页面和地图拖拽事件 |
| **相机控制（VexCamera）**                                    |                                                          | 支持的事件：change、colliderEvent                            |                                                              |
|                                                              | 获取摄像机到地面的距离、当前的帧数                       | getCameraDis、getFrameRate                                   |                                                              |
|                                                              | 飞行功能                                                 | startAnimation                                               |                                                              |
|                                                              | 摄像机漫游功能                                           | cameraRoam、cameraRoamEnable                                 |                                                              |
|                                                              | 获取摄像机的当前位置                                     | getTransform、getSceneTransform                              |                                                              |
|                                                              | 设置后期参数、是否开启后期、设置抗锯齿、设置后期配置文件 | setBloom、setColorGrading、setChromaticAberration、setAmbientOcclusion、setVignette、setEnablePost、setAntiAliasing、setPostConfig、 | 1、先开启后期    <br>2、设置后期的配置文件   <br>3、根据情况重新设置后期的参数 |
|                                                              | 是否开启地图深度                                         | mapDepthEnable                                               |                                                              |
|                                                              | 获取当前场景的内部矩阵                                   | getInMatrix                                                  |                                                              |
|                                                              | 设置摄像机的位置                                         | setView、centerAt                                            |                                                              |
|                                                              | 设置裁剪参数                                             | setClipPlane                                                 |                                                              |
|                                                              | 设置摄像机的平放角度控制                                 | setFlatAngle                                                 |                                                              |
|                                                              | 围绕中心点旋转                                           | rotateAtCenter、setRotateDir                                 |                                                              |
|                                                              | 位置捕捉                                                 | pickScenePosition                                            | 根据像素位置获取经纬度位置与场景位置                         |
|                                                              | 场景位置转经纬度                                         | pickPositionsByScenePos                                      |                                                              |
|                                                              | 根据经纬度位置捕捉高度                                   | pickHeight、pickHeights                                      | 模型需要有碰撞体                                             |
|                                                              | 经纬度位置转场景位置                                     | pickLonLatToScenePos                                         |                                                              |
|                                                              | 控制地图交互                                             | interactive                                                  | 但是对点击事件没有影响                                       |
|                                                              | 设置相机是否启用                                         | setCameraEnable                                              |                                                              |
|                                                              | 设置相机渲染模式                                         | setCameraRenderMode                                          | 前向渲染、延迟渲染                                           |
|                                                              | 放大缩小                                                 | zoomIn、zoomOut                                              |                                                              |
|                                                              | 设置是否拥有地形模式                                     | setHaveTerrain                                               | 可以控制相机进入地下，需要结合角度控制                       |
|                                                              | 设置地图模式                                             | setMapMode                                                   | 二维、三维                                                   |
|                                                              | 设置相机的最远缩放距离                                   | maxZoomDistance                                              |                                                              |
|                                                              | 获取场景中心点                                           | getCenter                                                    |                                                              |
|                                                              | 第一人称功能                                             | startWalk、stopWalk、updateWalkOpts                          | 场景地面必须有碰撞体物体<br>桌面端：不能通过远程操作第一人称，只能操作直连电脑的显示器 |
| **太阳光（VexSun）**                                         | 设置方向                                                 | setRotate                                                    | 如果使用天气插件，则由天气组件控制太阳光          需要关闭天气插件：Vex.envManager.enable(false) |
|                                                              | 设置颜色                                                 | setColor                                                     | 需要关闭天气插件：Vex.envManager.enable(false)               |
|                                                              | 设置强度                                                 | setIntensity                                                 | 需要关闭天气插件：Vex.envManager.enable(false)               |
|                                                              | 是否启用                                                 | setEnable                                                    | 需要关闭天气插件：Vex.envManager.enable(false)               |
|                                                              | 设置阴影类型                                             | setShadow                                                    | 需要关闭天气插件：Vex.envManager.enable(false)               |
| **底图展示与切换（TileLayerRender）**                        | 修改底图材质属性                                         | setMaterialParam                                             | 可以修改颜色属性                                             |
|                                                              | 默认底图                                                 |                                                              | 初始化的地图配置                                             |
|                                                              | 更改默认地图                                             | changMapUrl                                                  | 前提是初始化的地图配置不是empty                              |
| **多底图功能（MapTileLayerDispatch、RefTileLayerObject）**   | 添加底图                                                 | addImageLayer                                                | 最多支持添加4个底图                                          |
|                                                              | 修改底图的地址、控制显示                                 | changeUrl、setVisible                                        | RefTileLayerObject实例的功能                                 |
| **场景对象（VexScene）**                                     | 添加地图弹窗                                             | addOverlay、delOverlay                                       | 跟随地图移动的弹窗     web端使用该功能。桌面端存在位置更新延迟问题 |
|                                                              | 编辑物体位置                                             | setTransformEditType、activeEditLocation                     |                                                              |
|                                                              | 支持的事件：                                             | atEdit--物体位置编辑中事件                                   |                                                              |
|                                                              |                                                          | endEdit--物体位置结束编辑                                    |                                                              |
|                                                              |                                                          | beginEdit--物体位置开始编辑                                  |                                                              |
|                                                              |                                                          | resize---地图窗口大小改变                                    |                                                              |
| **倾斜摄影展示与管理（Tile3DMain、RefTileModel）**           | 设置材质属性                                             | updateMaterial                                               |                                                              |
|                                                              | 显示隐藏、销毁                                           | destroy、setVisible                                          |                                                              |
|                                                              | 加载切片模型服务                                         | loadTileset                                                  | 可以设置最大缓存数量，偏移信息                               |
|                                                              | 是否接受阴影                                             | setShadow                                                    |                                                              |
|                                                              | 设置全局配置                                             | setConfig                                                    | 目前已经无效                                                 |
| **物体加载管理器（PreFabManager）**                          | 支持的事件                                               | click 点击事件                                               | 需要结合pickmanager使用                                      |
|                                                              |                                                          | hover事件                                                    | 需要开启自动捕捉功能                                         |
|                                                              |                                                          | animation                                                    | 时间轨迹组件，运行中事件                                     |
|                                                              |                                                          | animationFinish                                              | 时间轨迹组件，运行结束时间                                   |
|                                                              | 创建物体                                                 | create                                                       |                                                              |
|                                                              | 设置所有物体显示隐藏                                     | setAllVisible                                                |                                                              |
|                                                              | 创建知道类型物体                                         | createEmpty                                                  | 空物体、片、球体、方体                                       |
|                                                              | 创建平面、拉升体                                         | createShape、createExtrudeShape                              |                                                              |
|                                                              | 获取内置物体                                             | getSceneBuiltInObject                                        |                                                              |
|                                                              | 创建墙                                                   | createWall                                                   |                                                              |
| **捕捉管理器（PickManager）**                                | 触发捕捉                                                 | pick                                                         | 触发物体、sprite的点击事件                                   |
|                                                              | 开启自动捕捉                                             | startAutoPick                                                | 触发物体、sprite的hover事件                                  |
|                                                              | 关闭自动捕捉                                             | stopAutoPick                                                 |                                                              |
| **输入管理器（InputManager）**                               | 添加鼠标事件                                             | addMouseListener、delMouseListener                           | 支持down、up、click事件                                      |
|                                                              | 添加键盘事件                                             | addKeyboardListener、delKeyboardListener                     | 支持按下和放开的监听                                         |
| **物体对象（RefObject）**                                    | 获取根父级                                               | getRoot                                                      |                                                              |
|                                                              | 设置父级                                                 | setParent                                                    |                                                              |
|                                                              | 控制显示隐藏、销毁                                       | setVisible、destory                                          |                                                              |
|                                                              | 设置是否可以点击                                         | setIsClick                                                   |                                                              |
|                                                              | 设置图层                                                 | setLayer                                                     | 支持默认、overlay、地形、tile                                |
|                                                              | 克隆当前物体                                             | clone                                                        | 如果有子物体，也会一起克隆，克隆之后，父级为null             |
|                                                              | 更新当前物体的位置                                       | updatePostion                                                | 经纬度位置                                                   |
|                                                              | 是否开启碰撞体                                           | setColliderEnable                                            |                                                              |
|                                                              | 更新材质                                                 | updateMat、updateMats                                        | 物体可以有多个材质                                           |
|                                                              | 获取物体位置                                             | getPostion                                                   |                                                              |
|                                                              | 获取相对位置                                             | getLocalPostion                                              |                                                              |
|                                                              | 设置相对位置                                             | updateLocalPostion                                           |                                                              |
|                                                              | 控制声音                                                 | contrlAudio                                                  | 如果物体存在声音                                             |
|                                                              | 设置物体的材质属性                                       | setMaterialsParam                                            |                                                              |
|                                                              | 获取物体属性                                             | getMaterialsValue                                            | 返回的是一个map                                              |
|                                                              | 控制阴影                                                 | enableShadow                                                 |                                                              |
|                                                              | 组件管理                                                 | addComp、delComp、compActived                                |                                                              |
|                                                              | 支持的组件                                               | Vex.compNames.compLine 线组件                                | 绘制线，用该功能                                             |
|                                                              |                                                          | Vex.compNames.compPathAnimation  时间轨迹组件                | 物体运动组件                                                 |
|                                                              |                                                          | Vex.compNames.compShowControl  物体控制组件                  | 控制距离显示，固定大小                                       |
|                                                              |                                                          | Vex.compNames.compDecal  贴花组件                            | 只能贴在默认图层的物体上面                                   |
| **资源管理（ResourceManager）**                              | 加载资源                                                 | load、loads                                                  | 可以加载vex、ga、vsm、udm格式资源文件，返回对象是对应的UrlResourceInfo对象，根据状态属性判断是否加载成功。        Vex材质文件加载成功后，在VexResourceInfo里面存在meta属性，存放的是材质的属性信息，材质更新时需要参考这个信息 |
|                                                              | 直接创建及渲染ga                                         | loadGaAndCreate                                              |                                                              |
|                                                              | 直接创建及渲染udm                                        | loadUDM                                                      |                                                              |
| **材质管理（MaterialManager、RefMaterial）**                 | 加载材质与创建                                           | Create                                                       | 通过资源管理器加载材质                                       |
|                                                              | 创建默认材质                                             | CreateDefault                                                |                                                              |
|                                                              | 创建默认透明材质                                         | CreateTransparentDefault                                     |                                                              |
|                                                              | 更新材质属性                                             | UpdateMaterial                                               | 创建完成返回的RefMaterial实例也可以更新属性                  |
|                                                              | 销毁材质                                                 | Destory                                                      | 创建完成返回的RefMaterial实例也可以销毁                      |
| **贴图管理（TextureManager、RefTexture）**                   | 创建贴图                                                 | createStreamTexture、createTexture                           |                                                              |
|                                                              | 销毁                                                     | destory                                                      | RefTexture实例的方法                                         |
| **热力图（HeatMapImageManager、RefHeatObject）**             | 创建热力图                                               | create                                                       | 返回RefHeatObject实例。     可以设置贴地，但只能贴在默认图层的物体上面 |
|                                                              | 修改热力图数据                                           | update                                                       | RefHeatObject实例的方法                                      |
|                                                              | 销毁热力图                                               | destory                                                      | RefHeatObject实例的方法                                      |
| **桌面端视频功能（VexVideoComp、RefVideoObject）**           | 支持的事件                                               | click                                                        | 通过创建时，可以配置热区。点击时，可以知道点中的热区         |
|                                                              | 创建样式                                                 | createStyle                                                  |                                                              |
|                                                              | 创建                                                     | create                                                       | 同时只能播放一路视频                                         |
|                                                              | 显示、销毁                                               | destory、setVisible                                          | RefVideoObject实例的功能                                     |
|                                                              | 更改视频地址                                             | updateUrl                                                    | RefVideoObject实例的功能                                     |
|                                                              | 暂停、播放                                               | controlVideo                                                 | RefVideoObject实例的功能                                     |
|                                                              | 更新背景图片                                             | updateTexture                                                | RefVideoObject实例的功能                                     |
|                                                              | 控制音量                                                 | controlVolume                                                | RefVideoObject实例的功能                                     |
|                                                              | 控制播放速度                                             | controlRate                                                  | RefVideoObject实例的功能                                     |
|                                                              | 是否循环                                                 | isLoop                                                       | RefVideoObject实例的功能                                     |
|                                                              | 更新位置                                                 | updatePosition                                               | RefVideoObject实例的功能                                     |
| **桌面端弹窗功能（CompBillboard、RefBillBoard）**            | 支持的事件                                               | click                                                        | 但是只支持图片。     通过创建时，可以配置热区。点击时，可以知道点中的热区 |
|                                                              | 创建样式                                                 | createStyle                                                  |                                                              |
|                                                              | 创建                                                     | create                                                       |                                                              |
|                                                              | 更新热区配置                                             | updateHeatConfig                                             | RefBillBoard实例的功能                                       |
|                                                              | 更新label                                                | updateLabel、updateLabels                                    | RefBillBoard实例的功能。   <br> `Web端不支持中文`。          |
|                                                              | 更新图片                                                 | updateImage、updateImages                                    | RefBillBoard实例的功能                                       |
|                                                              | 更新样式                                                 | updateStyle、updateStyles                                    | RefBillBoard实例的功能                                       |
|                                                              | 更新lod配置                                              | updateLod、updateLods                                        | RefBillBoard实例的功能                                       |
|                                                              | 更新位置                                                 | updatePosition                                               | RefBillBoard实例的功能                                       |
|                                                              | 显示销毁                                                 | destory、setVisible                                          | RefBillBoard实例的功能                                       |
|                                                              | 是否开启重叠隐藏                                         | includeAutoLayout                                            | 当多个billboad重叠时，将自动隐藏一些。     RefBillBoard实例的功能 |
| **点位功能（SpriteManager、RefSpriteObject）**               | 支持的事件                                               | click、hover                                                 | hover需要开启自动捕捉                                        |
|                                                              | 创建                                                     | create                                                       | 在创建贴图时，图片需要是正方形的                             |
|                                                              | 显示、销毁                                               | destory、setVisible                                          | RefSpriteObject实例的方法                                    |
|                                                              | 更新贴图                                                 | updateTexture                                                | RefSpriteObject实例的方法                                    |
|                                                              | 设置上下跳动                                             | setFloatHeight                                               | RefSpriteObject实例的方法                                    |
|                                                              | 更新位置                                                 | updatePostion                                                | RefSpriteObject实例的方法                                    |
| **物体动画（TransformAnimationManager、RefTAObject）**       | 支持的事件                                               | transformAnimaFinish                                         | 动画结束                                                     |
|                                                              | 创建                                                     | create                                                       | 物体从一个位置移动到另一个位置                               |
|                                                              | 销毁                                                     | destory                                                      | RefTAObject实例的方法                                        |
| **材质属性动画（MaterialAnimatorManager、MaterialAnimator）** | 支持的事件                                               | finish                                                       | 动画结束                                                     |
|                                                              | 创建                                                     | create                                                       | 创建的属性值：从一个值过度到另一个值。如修改颜色、透明度     |
| **创建自定义图形管理（CompGeometryManager、RefGeomObject）** |                                                          |                                                              | RefGeomObject继承RefObject支持被点击。                       |
|                                                              | 创建                                                     | create                                                       | 需要传入Vex.lib.BufferGeometry。图形里面必须要有顶点、索引、uv属性 |
|                                                              | 更新图形                                                 | updateGeometry                                               | 需要传入Vex.lib.BufferGeometry。图形里面必须要有顶点、索引、uv属性。     RefGeomObject示例的方法 |
|                                                              | 销毁                                                     | destory                                                      | RefGeomObject示例的方法                                      |
| **3D文字功能（TextMeshManager、RefTextMesh）**               |                                                          |                                                              | `不支持背景`        <br>支持哪些中文，需要制作字体模板ga文件 |
|                                                              | 创建                                                     | create                                                       | ga模板文件，需要提前通过资源管理器load。                     |
|                                                              | 更新属性                                                 | update                                                       | RefTextMesh实例的方法                                        |
|                                                              | 更新样式                                                 | updateStyle                                                  | RefTextMesh实例的方法                                        |
|                                                              | 销毁、显示                                               | destroy、setVisible                                          | RefTextMesh实例的方法                                        |
| **物体运动管理器（CarTrackManager、TrackObject）**           |                                                          |                                                              | 可以用于车辆移动、人员流动。目前不能暂停销毁。               |
|                                                              | 创建路径                                                 | createPath                                                   | 返回TrackObject示例                                          |
|                                                              | 创建跟随移动的物体                                       | addRefObject                                                 | TrackObject示例的方法                                        |
|                                                              |                                                          |                                                              |                                                              |
|                                                              |                                                          |                                                              |                                                              |
|                                                              |                                                          |                                                              |                                                              |
|                                                              |                                                          |                                                              |                                                              |
| **内置第三方库**                                             | Cesium                                                   | Vex.ext                                                      | 不是对应的最新版本                                           |
|                                                              | ThreeJS                                                  | Vex.lib                                                      | 不是对应的最新版本                                           |
|                                                              | TurfJS                                                   | Vex.turfUtil                                                 |                                                              |
|                                                              |                                                          |                                                              |                                                              |
|                                                              |                                                          |                                                              |                                                              |
|                                                              |                                                          |                                                              |                                                              |
|                                                              |                                                          |                                                              |                                                              |

